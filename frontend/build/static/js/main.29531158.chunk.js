(this["webpackJsonpfacebook-friendlist"]=this["webpackJsonpfacebook-friendlist"]||[]).push([[0],{100:function(e,t,s){},120:function(e,t,s){},121:function(e,t,s){},186:function(e,t,s){},187:function(e,t,s){},189:function(e,t,s){},190:function(e,t,s){},191:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(0),r=s.n(n),i=s(13),c=s.n(i),o=s(20),l=s(59),u=s(6),m={authUser:null},d=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{authUser:t.authUser})};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER_SET":return d(e,t);default:return e}},p={basicInfoSummoner:null,flexRank:null,soloRank:null,championsPlayedFlex:[],championsPlayedSolo:[],championsPlayedAram:[],last100games:[]},j=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{basicInfoSummoner:t.jsonSummonerByName})},b=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{flexRank:t.flexRank})},O=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{soloRank:t.soloRank})},f=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{championsPlayedFlex:t.championsPlayedFlex})},x=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{championsPlayedSolo:t.championsPlayedSolo})},g=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{championsPlayedAram:t.championsPlayedAram})},v=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{last100games:t.last100games})};var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BASIC_INFO_SUMMOONER_SET":return j(e,t);case"FLEX_RANK_SET":return b(e,t);case"SOLO_RANK_SET":return O(e,t);case"PLAYED_FLEX_SET":return f(e,t);case"PLAYED_SOLO_SET":return x(e,t);case"PLAYED_ARAM_SET":return g(e,t);case"LAST_100_GAMES_SET":return v(e,t);default:return e}},y=s(37),k={summoners:[],favoriteSummoners:[]};function I(e,t){var s=e.summoners,a=e.favoriteSummoners;return s.includes(t.newSummoner)||a.includes(t.newSummoner)?Object(u.a)(Object(u.a)({},e),{},{summoners:Object(y.a)(e.summoners)}):Object(u.a)(Object(u.a)({},e),{},{summoners:[].concat(Object(y.a)(e.summoners),[t.newSummoner])})}function N(e,t){var s=e.summoners,a=s.indexOf(t.newSummoner);return-1!==a&&s.splice(a,1),Array.isArray(s)&&0===s.length?Object(u.a)(Object(u.a)({},e),{},{summoners:[]}):Object(u.a)(Object(u.a)({},e),{},{summoners:[s]})}var D=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{favoriteSummoners:t.favoriteSummoners})};var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SUMMONER_SET":return I(e,t);case"DELETE_SUMMONER_SET":return N(e,t);case"UPDATE_FAVORITE_SUMMONETS":return D(e,t);default:return e}},C={queuesIDsDictionary:null,championsIDs:null,acutalPatch:null,spellsDictionary:{21:"SummonerBarrier",1:"SummonerBoost",14:"SummonerDot",3:"SummonerExhaust",4:"SummonerFlash",6:"SummonerHaste",7:"SummonerHeal",13:"SummonerMana",30:"SummonerPoroRecall",31:"SummonerPoroThrow",39:"SummonerSnowURFSnowball_Mark",32:"SummonerSnowball",12:"SummonerTeleport",11:"SummonerSmite"}},A=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{queuesIDsDictionary:t.queuesIDsDictionary})},_=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{championsIDs:t.championsIDs})},E=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{spellsDictionary:t.spellsDictionary})},R=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{acutalPatch:t.acutalPatch})};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAMES_IDs_SET":return A(e,t);case"CHAMPIONS_IDs_SET":return _(e,t);case"SPELLS_DICT_SET":return E(e,t);case"ACTUAL_PATCH_SET":return R(e,t);default:return e}},P=Object(l.b)({sessionState:h,summonerInfoState:S,summoners:w,someDataGame:M}),L=Object(l.c)(P),T=s(12),U=s(14),F=s(16),G=s(15),q=s(23),B=s(22),H=s(40),W=r.a.createContext(null),K=function(e){return function(t){return Object(a.jsx)(W.Consumer,{children:function(s){return Object(a.jsx)(e,Object(u.a)(Object(u.a)({},t),{},{firebase:s}))}})}},Q=W,J=s(70),Y=(s(140),s(142),{apiKey:"AIzaSyBwEkZy65Dei72zXE3ba0NrFdz26Mgj1rk",authDomain:"lol-stalking.firebaseapp.com",databaseURL:"https://lol-stalking-default-rtdb.europe-west1.firebasedatabase.app",projectId:"lol-stalking",storageBucket:"lol-stalking.appspot.com",messagingSenderId:"934090502869"}),X=function e(){var t=this;Object(T.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,s){return t.auth.createUserWithEmailAndPassword(e,s)},this.doSignInWithEmailAndPassword=function(e,s){return t.auth.signInWithEmailAndPassword(e,s)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignOut=function(){return t.auth.signOut()},this.currentUser=function(){return t.auth.currentUser.uid},this.usersSummonersRef=function(e){return t.db.ref("usersSummoners/".concat(e))},J.a.initializeApp(Y),this.auth=J.a.auth(),this.db=J.a.database(),this.facebookProvider=new J.a.auth.FacebookAuthProvider},z=s(17),Z=s(222),V=s(223),$={email:"",password:"",error:null},ee=function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,s=t.email,n=t.password;a.props.firebase.doSignInWithEmailAndPassword(s,n).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(H.a)({},e.target.name,e.target.value))},a.state=Object(u.a)({},$),a}return Object(U.a)(s,[{key:"render",value:function(){var e=this.state,t=e.email,s=e.password,n=e.error,r=""===s||""===t;return Object(a.jsxs)("form",{className:"form",onSubmit:this.onSubmit,children:[Object(a.jsx)("div",{id:"emailWidth",children:Object(a.jsx)(Z.a,{className:"outlined-basic",label:"Adres e-mail",variant:"outlined",name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Adres e-mail"})}),Object(a.jsx)("div",{id:"passwordWidth",children:Object(a.jsx)(Z.a,{className:"outlined-basic",label:"Has\u0142o",variant:"outlined",name:"password",value:s,onChange:this.onChange,type:"password",placeholder:"Has\u0142o"})}),Object(a.jsx)("div",{className:"blueBacground",children:Object(a.jsx)(V.a,{disabled:r,type:"submit",variant:"outlined",color:"primary",children:"Zaloguj si\u0119!"})}),n&&Object(a.jsx)("div",{className:"errorLoginRegister",children:n.message})]})}}]),s}(n.Component),te=function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).onSubmit=function(e){a.props.firebase.doSignInWithFacebook().then((function(e){return a.props.firebase.user(e.user.uid).set({username:e.additionalUserInfo.profile.name,email:e.additionalUserInfo.profile.email,roles:[]})})).then((function(){a.setState({error:null})})).catch((function(e){"auth/account-exists-with-different-credential"===e.code&&(e.message="\n  An account with an E-Mail address to\n  this social account already exists. Try to login from\n  this account instead and associate your social accounts on\n  your personal account page.\n"),a.setState({error:e})})),e.preventDefault()},a.state={error:null},a}return Object(U.a)(s,[{key:"render",value:function(){var e=this.state.error;return Object(a.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(a.jsx)("button",{type:"submit",children:"Sign In with Facebook"}),e&&Object(a.jsx)("p",{children:e.message})]})}}]),s}(n.Component),se=Object(z.a)(B.g,K)(te),ae=Object(z.a)(B.g,K)(ee),ne=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{id:"widht_h1",children:Object(a.jsx)("h1",{children:"Logowanie"})}),Object(a.jsx)(ae,{}),Object(a.jsx)(se,{})]})},re={email:"",passwordOne:"",passwordTwo:"",error:null},ie=function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,s=t.email,n=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(s,n).then((function(){a.props.firebase.usersSummonersRef(a.props.firebase.currentUser()).update({0:0})})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(H.a)({},e.target.name,e.target.value))},a.state=Object(u.a)({},re),a}return Object(U.a)(s,[{key:"render",value:function(){var e=this.state,t=e.email,s=e.passwordOne,n=e.passwordTwo,r=e.error,i=s!==n||""===s||""===t;return Object(a.jsxs)("form",{className:"form",onSubmit:this.onSubmit,children:[Object(a.jsx)("div",{id:"emailWidth",children:Object(a.jsx)(Z.a,{className:"outlined-basic",label:"Adres e-mail",variant:"outlined",name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Adres e-mail"})}),Object(a.jsx)("div",{id:"passwordWidth",children:Object(a.jsx)(Z.a,{className:"outlined-basic",label:"Has\u0142o",variant:"outlined",name:"passwordOne",value:s,onChange:this.onChange,type:"password",placeholder:"Has\u0142o"})}),Object(a.jsx)("div",{id:"confrimWidth",children:Object(a.jsx)(Z.a,{className:"outlined-basic",label:"Potwierd\u017a has\u0142o",variant:"outlined",name:"passwordTwo",value:n,onChange:this.onChange,type:"password",placeholder:"Potwierd\u017a has\u0142o"})}),Object(a.jsx)("div",{className:"blueBacground",children:Object(a.jsx)(V.a,{disabled:i,type:"submit",variant:"outlined",color:"primary",children:"Zarejestruj si\u0119!"})}),r&&Object(a.jsx)("p",{children:r.message})]})}}]),s}(n.Component),ce=Object(z.a)(B.g,K)(ie),oe=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{id:"widht_h1",children:Object(a.jsx)("h1",{children:"Rejestracja"})}),Object(a.jsx)(ce,{})]})},le=function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).state={isLoginOpen:!0,isRegisterOpen:!1},a}return Object(U.a)(s,[{key:"showLoginBox",value:function(){this.setState({isLoginOpen:!0,isRegisterOpen:!1})}},{key:"showRegisterBox",value:function(){this.setState({isRegisterOpen:!0,isLoginOpen:!1})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"root-container",children:[Object(a.jsxs)("div",{className:"box-controller",children:[Object(a.jsx)("div",{className:"controller "+(this.state.isLoginOpen?"selected-controller":""),onClick:this.showLoginBox.bind(this),children:"Zaloguj si\u0119"}),Object(a.jsx)("div",{className:"controller "+(this.state.isRegisterOpen?"selected-controller":""),onClick:this.showRegisterBox.bind(this),children:"Zarejestruj si\u0119"})]}),Object(a.jsxs)("div",{className:"box-container",children:[this.state.isLoginOpen&&Object(a.jsx)(ne,{}),this.state.isRegisterOpen&&Object(a.jsx)(oe,{})]})]})}}]),s}(r.a.Component),ue=function(e){var t=function(t){Object(F.a)(n,t);var s=Object(G.a)(n);function n(){return Object(T.a)(this,n),s.apply(this,arguments)}return Object(U.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){e.props.onSetAuthUser(t)}),(function(){console.log("222222222222222222222222222222222222222"),localStorage.removeItem("authUser"),e.props.onSetAuthUser(null),console.log("222222222222222222222222222222222222222")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return Object(a.jsx)(e,Object(u.a)({},this.props))}}]),n}(r.a.Component);return Object(z.a)(K,Object(o.b)(null,(function(e){return{onSetAuthUser:function(t){return e({type:"AUTH_USER_SET",authUser:t})}}})))(t)},me=s(221);var de=function(e){return function(t){var s=function(s){Object(F.a)(r,s);var n=Object(G.a)(r);function r(){return Object(T.a)(this,r),n.apply(this,arguments)}return Object(U.a)(r,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(s){e(s)||(console.log("unloged"),"/login"===t.props.history.location.pathname?t.props.history.push("/"):t.props.history.push("/login"))}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return e(this.props.authUser)?Object(a.jsx)(t,Object(u.a)({},this.props)):Object(a.jsx)("div",{id:"beforeRender",children:Object(a.jsx)(me.a,{})})}}]),r}(r.a.Component);return Object(z.a)(B.g,K,Object(o.b)((function(e){return{authUser:e.sessionState.authUser}})))(s)}}((function(e){return!e}))((function(){return Object(a.jsx)("div",{children:Object(a.jsx)(le,{})})})),he=s(125),pe=(s(120),s(78),Object(z.a)(B.g,K,Object(o.b)((function(e){return{authUser:e.sessionState.authUser}})))((function(e){var t=e.authUser,s=e.firebase,n=Object(he.a)(e,["authUser","firebase"]);return Object(a.jsxs)("div",{className:"header ClassHeaderFooter",children:[Object(a.jsxs)("div",{id:"leftNavbar",children:[Object(a.jsx)(q.c,{className:"/login"!==n.location.pathname?"navigateSelected navigate":"navigate",to:"/",children:Object(a.jsx)("span",{children:"Summoners"})}),Object(a.jsx)(q.c,{className:"/login"===n.location.pathname?"navigateSelected navigate":"navigate",to:"/WalentynkaDlaDominiki",children:Object(a.jsx)("span",{children:"Walentynka Dla dominiki"})})]}),Object(a.jsx)("div",{id:"rightNavbar",children:t?Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("div",{children:t.email}),Object(a.jsx)("div",{className:"logInOut",onClick:s.doSignOut,children:Object(a.jsx)("strong",{children:"Wyloguj"})})]}):Object(a.jsx)("div",{children:Object(a.jsx)(q.c,{className:"logInOut",to:"/login",style:{textDecoration:"none"},children:Object(a.jsx)("strong",{children:"Login"})})})})]})})));s(186);var je=function(){return Object(a.jsx)("div",{id:"footer",className:"ClassHeaderFooter"})},be=(s(187),s.p+"static/media/loupe.98f0bb40.svg"),Oe=function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).onSubmit=function(e){var t=a.state.nickname;a.props.history.push("/eune/"+t.toLowerCase()),e.preventDefault()},a.onChange=function(e){a.setState({nickname:e.target.value})},a.state={nickname:"",error:null},a}return Object(U.a)(s,[{key:"render",value:function(){var e=this.state,t=e.nickname,s=e.error,n=""===t||t.length<3;return Object(a.jsxs)("div",{id:"SearchUserInputContent",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{id:"loupe",src:be,alt:"loupe"}),Object(a.jsx)("div",{id:"inputTitle",children:Object(a.jsx)("span",{children:"Paste League of Legends nickname you want to stalk!"})})]}),Object(a.jsx)("div",{id:"SearchInput",children:Object(a.jsxs)("form",{className:"SearchInputform",onSubmit:this.onSubmit,children:[Object(a.jsx)("div",{id:"SearchInputNickname",children:Object(a.jsx)(Z.a,{className:"outlined-basic",label:"Nickname",variant:"outlined",name:"nickname",value:t,onChange:this.onChange,type:"text",placeholder:"Nickname"})}),Object(a.jsx)("div",{id:"submitSearch",children:Object(a.jsx)(V.a,{id:"findButton",disabled:n,type:"submit",variant:"outlined",color:"primary",children:"Stalk!"})}),s&&Object(a.jsx)("div",{className:"errorLoginRegister",children:s.message})]})})]})}}]),s}(r.a.Component),fe=Object(B.g)(Oe);var xe=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(fe,{})})},ge=s(126),ve=s(26),Se=s.n(ve),ye=s(38),ke=(s(121),function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).changeClass=function(e){var t=Object(y.a)(a.state.setClass);t.forEach((function(e,s){t[s]="stats"})),t[e]="statsSelected",a.setState({setClass:t})},a.changeClassShowMore=function(e){a.setState({showMoreId:e})},a.state={isLodaing:!0,stats:0,setClass:["statsSelected","stats","stats"],statsComponents:[],displayNumber:7,showMoreId:"showMore"},a}return Object(U.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.championsIDs,t=[];t[0]=Ne(this.props.championsPlayedSolo,e),t[1]=Ne(this.props.championsPlayedFlex,e),t[2]=Ne(this.props.championsPlayedAram,e),this.setState({isLodaing:!1,statsComponents:t})}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{children:this.state.isLodaing?Object(a.jsx)("div",{align:"center",children:Object(a.jsx)(me.a,{})}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{id:"statsSelectGameType",children:[Object(a.jsx)("div",{className:this.state.setClass[0],children:Object(a.jsx)(V.a,{type:"submit",variant:"outlined",color:"primary",onClick:function(){e.changeClass(0),e.setState({stats:0,displayNumber:7})},children:"SoloQ"})}),Object(a.jsx)("div",{className:this.state.setClass[1],children:Object(a.jsx)(V.a,{type:"submit",variant:"outlined",color:"primary",onClick:function(){e.changeClass(1),e.setState({stats:1,displayNumber:7})},children:"Flex"})}),Object(a.jsx)("div",{className:this.state.setClass[2],children:Object(a.jsx)(V.a,{type:"submit",variant:"outlined",color:"primary",onClick:function(){e.changeClass(2),e.setState({stats:2,displayNumber:7})},children:"Aram"})})]}),Object(a.jsx)("div",{children:Object(a.jsx)(Ie,{stats:this.state.stats,statsComponents:this.state.statsComponents,displayNumber:this.state.displayNumber})}),Object(a.jsx)("div",{id:"stats",onClick:function(){e.setState((function(e){return{displayNumber:e.displayNumber+8}}))},children:this.state.displayNumber>=this.state.statsComponents[this.state.stats].length?"":Object(a.jsx)(V.a,{id:"showMore",type:"submit",variant:"outlined",color:"primary",children:"Show more"})})]})})}}]),s}(r.a.Component)),Ie=function(e){var t=e.stats,s=e.statsComponents,n=e.displayNumber;return 0===t?0===s[0].length?Object(a.jsx)("div",{className:"gamesNotFound",children:"You haven't play this game mode in this season"}):Object(a.jsx)("div",{className:"statsListing",children:s[0].slice(0,n).map((function(e,t){return e}))}):1===t?0===s[1].length?Object(a.jsx)("div",{className:"gamesNotFound",children:"You haven't play this game mode in this season"}):Object(a.jsx)("div",{className:"statsListing",children:s[1].slice(0,n).map((function(e,t){return e}))}):0===s[2].length?Object(a.jsx)("div",{className:"gamesNotFound",children:"You haven't play this game mode in this season"}):Object(a.jsx)("div",{className:"statsListing",children:s[2].slice(0,n).map((function(e,t){return e}))})},Ne=function(e,t){var s=[];return e.forEach((function(e,n){s.push(Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/11.2.1/img/champion/"+t[e[0]]+".png",alt:"Summoner icon"}),Object(a.jsxs)("div",{className:"statsListingInside",children:[Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"boldStats",children:t[e[0]]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"fontSizeStats",children:"Played games: "}),Object(a.jsx)("span",{className:"boldStats",children:e[1]})]})]})]},n))})),s},De=Object(z.a)(Object(o.b)((function(e){return{basicInfoSummoner:e.summonerInfoState.basicInfoSummoner,championsPlayedFlex:e.summonerInfoState.championsPlayedFlex,championsPlayedSolo:e.summonerInfoState.championsPlayedSolo,championsPlayedAram:e.summonerInfoState.championsPlayedAram,championsIDs:e.someDataGame.championsIDs}})))(ke),we=s(124),Ce=(s(189),function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).applyNewClass=function(e){a.setState({quueueTypeActiveIndex:e})},a.state={isLoading:!0,displayedGames:0,fetchStep:10,status:!1,errorMessage:"",fetchedGames:[],baisicsGameInfo:[],loadAgain:[],loadMore:!0,isDisabled:!1,filterHistory:"All games",gameTypes:[],quueueTypeActiveIndex:0},a._isMounted=!1,a}return Object(U.a)(s,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=[];this.props.last100games.forEach((function(t){e.includes(t.queue)||e.push(t.queue)})),e.sort(),e.unshift("All games"),this.setState({gameTypes:e}),this.fetchInfoAboutGame()}},{key:"fetchInfoAboutGame",value:function(){var e=Object(ye.a)(Se.a.mark((function e(){var t,s,a,n,r,i,c,o,l,u,m,d,h,p,j=this;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.state.filterHistory,s=this.props.last100games.filter((function(e){return e.queue===t||"All games"===t})),a=this.state.displayedGames,n=this.state.fetchStep,r=this.state.fetchedGames,i=a+n,c=[],o=this.state.baisicsGameInfo;a<i;a++)s.length>a?(c.push(s[a].gameId),o.push(s[a])):this.setState({loadMore:!1});return"eun1",u="",m=Date.now(),e.next=14,Promise.all(c.map(function(){var e=Object(ye.a)(Se.a.mark((function e(t){var s,a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l=JSON.parse(localStorage.getItem(t)))){e.next=5;break}return e.abrupt("return",l);case 5:return e.next=7,fetch("http://localhost:8000/api/match?region=eun1&matchID="+t);case 7:if(u=e.sent,j._isMounted){e.next=10;break}return e.abrupt("return");case 10:if(200===u.status){e.next=15;break}return console.log("22222"),e.abrupt("return",["error","http://localhost:8000/api/match?region=eun1&matchID="+t]);case 15:return console.log("33333"),e.next=18,u.json();case 18:s=e.sent,a=[s,m];try{localStorage.setItem(s.gameId,JSON.stringify(a))}catch(n){console.log("clear //////////////////////////"),localStorage.clear()}return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:d=e.sent,h=Object(we.a)(d),p=h.slice(0),r.push.apply(r,Object(y.a)(p)),this.setState({fetchedGames:r,displayedGames:a,baisicsGameInfo:o,isLoading:!1,isDisabled:!1});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.championsIDs,s=this.props.acutalPatch;return Object(a.jsxs)("div",{id:"rightConteiner",children:[Object(a.jsx)("div",{className:"topBoxHistory",children:Object(a.jsx)("div",{className:"topBoxfilterHistory",children:this.state.gameTypes.map((function(t,s){var n,r=e.state.quueueTypeActiveIndex===s?"quueueTypeActive":"quueueType";return n="All games"===t?"All games":e.props.queuesIDsDictionary[t],Object(a.jsx)("div",{className:r,onClick:function(){e.setState({filterHistory:t,displayedGames:0,fetchedGames:[],baisicsGameInfo:[],loadMore:!0},(function(){e.applyNewClass(s),e.fetchInfoAboutGame()}))},children:Object(a.jsx)(V.a,{type:"submit",variant:"outlined",color:"primary",children:n})},s)}))})}),this.state.isLoading?Object(a.jsx)(Ae,{status:this.state.status,errorMessage:this.state.errorMessage}):Object(a.jsxs)("div",{children:[this.state.fetchedGames.map((function(n,r){if("error"===n[0])return Object(a.jsx)("div",{onClick:Object(ye.a)(Se.a.mark((function t(){var s,a,i,c,o,l;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(s=e.state.loadAgain)[r]=!0,e.setState({loadAgain:s}),t.next=5,fetch(n[1]);case 5:if(a=t.sent,e._isMounted){t.next=8;break}return t.abrupt("return");case 8:if(200===a.status){t.next=13;break}return s[r]=!1,t.abrupt("return",e.setState({loadAgain:s}));case 13:return i=Date.now(),t.next=16,a.json();case 16:c=t.sent,o=[c,i];try{localStorage.setItem(c.gameId,JSON.stringify(o))}catch(u){localStorage.clear()}(l=e.state.fetchedGames)[r]=o,s[r]=!1,e.setState({fetchedGames:l,loadAgain:s});case 23:case"end":return t.stop()}}),t)}))),children:e.state.loadAgain[r]?Object(a.jsx)("div",{className:"circular",align:"center",children:Object(a.jsx)(me.a,{})}):Object(a.jsx)("div",{className:"refresh",children:"Ups.. something went wrong, click to try refresh"})},r);var i="gameHistory lose",c=[];n[0].participants.forEach((function(t,s){t.championId===e.state.baisicsGameInfo[r].champion&&c.push(s,t.teamId)}));var o=n[0].participants[c[0]].stats.kills,l=n[0].participants[c[0]].stats.deaths,u=n[0].participants[c[0]].stats.assists,m=Math.round(100*(o+u)/l)/100;(m===1/0||isNaN(m))&&(m="Perfect");var d,h,p,j=Math.round(n[0].gameDuration/60),b=n[0].gameDuration%60,O=Date.now(),f=n[0].gameCreation,x=Math.round((O-f)/6e4)-30,g="minutes ago";return x<=60?d=x:x/60<=24?(d=Math.round(x/60),g="hours ago"):(d=Math.round(x/60/24),g="days ago"),n[0].participants[c[0]].stats.pentaKills?h="Penta kill":n[0].participants[c[0]].stats.quadraKills?h="Quadra kill":n[0].participants[c[0]].stats.tripleKills?h="Triple kill":n[0].participants[c[0]].stats.doubleKills&&(h="Dobule kill"),p=n[0].participants[c[0]].stats.win?"Victory":"Defeat",n[0].teams[0].teamId===c[1]?"Fail"===n[0].teams[0].win||(i="gameHistory win"):n[0].teams[1].teamId===c[1]&&("Fail"===n[0].teams[1].win||(i="gameHistory win")),60*j<401&&(420===n[0].queueId||440===n[0].queueId)&&(i="gameHistory remakeGame",p="Remake"),Object(a.jsxs)("div",{className:i,children:[Object(a.jsxs)("div",{className:"basicInfoGame",children:[Object(a.jsx)("div",{title:e.props.queuesIDsDictionary[n[0].queueId],className:"gameType",children:e.props.queuesIDsDictionary[n[0].queueId]}),Object(a.jsxs)("div",{className:"timeAgo",children:[d," ",g]}),Object(a.jsx)("div",{className:"styledLine"}),Object(a.jsx)("div",{className:p,children:p}),Object(a.jsxs)("div",{className:"gameDuration",children:[j,"m ",b,"s"]})]}),Object(a.jsxs)("div",{className:"championAndSpellsImg",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"championsImg",children:Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/champion/"+t[n[0].participants[c[0]].championId]+".png",alt:"Champion"})}),Object(a.jsxs)("div",{className:"SpellsImg",children:[Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/spell/"+e.props.spellsDictionary[n[0].participants[c[0]].spell1Id]+".png",alt:"Spell"}),Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/spell/"+e.props.spellsDictionary[n[0].participants[c[0]].spell2Id]+".png",alt:"Spell"})]})]}),Object(a.jsx)("div",{className:"championName",children:t[n[0].participants[c[0]].championId]})]}),Object(a.jsxs)("div",{className:"killsAndKDA",children:[Object(a.jsxs)("div",{className:"killsDeats",children:[o," / ",Object(a.jsx)("span",{className:"colorRed",children:l})," / ",u]}),Object(a.jsxs)("div",{className:"kda",children:[m," ",Object(a.jsx)("span",{className:"colorGrey",children:"KDA"})]}),Object(a.jsx)("div",{className:"killsInRow",children:h})]}),Object(a.jsxs)("div",{className:"level_cs_part_kills",children:[Object(a.jsxs)("div",{className:"champLevel",children:[Object(a.jsx)("div",{children:"Level"}),Object(a.jsx)("div",{children:n[0].participants[c[0]].stats.champLevel})]}),Object(a.jsxs)("div",{className:"minions",children:[Object(a.jsx)("div",{children:"Minions"}),Object(a.jsx)("div",{children:n[0].participants[c[0]].stats.totalMinionsKilled+n[0].participants[c[0]].stats.neutralMinionsKilled})]}),Object(a.jsxs)("div",{className:"minionsMinute",children:[Object(a.jsx)("div",{children:"Minions / minute"}),Object(a.jsx)("div",{children:Math.round(10*(n[0].participants[c[0]].stats.totalMinionsKilled+n[0].participants[c[0]].stats.neutralMinionsKilled)/(n[0].gameDuration/60))/10})]})]}),Object(a.jsxs)("div",{className:"items",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:n[0].participants[c[0]].stats.item0?Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/item/"+n[0].participants[c[0]].stats.item0+".png",alt:""}):[]}),Object(a.jsx)("div",{children:n[0].participants[c[0]].stats.item1?Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/item/"+n[0].participants[c[0]].stats.item1+".png",alt:""}):[]}),Object(a.jsx)("div",{children:n[0].participants[c[0]].stats.item2?Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/item/"+n[0].participants[c[0]].stats.item2+".png",alt:""}):[]}),Object(a.jsx)("div",{children:n[0].participants[c[0]].stats.item6?Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/item/"+n[0].participants[c[0]].stats.item6+".png",alt:""}):[]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:n[0].participants[c[0]].stats.item3?Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/item/"+n[0].participants[c[0]].stats.item3+".png",alt:""}):[]}),Object(a.jsx)("div",{children:n[0].participants[c[0]].stats.item4?Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/item/"+n[0].participants[c[0]].stats.item4+".png",alt:""}):[]}),Object(a.jsx)("div",{children:n[0].participants[c[0]].stats.item5?Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/item/"+n[0].participants[c[0]].stats.item5+".png",alt:""}):[]}),Object(a.jsx)("div",{className:"displayNone"})]}),Object(a.jsx)("div",{})]}),Object(a.jsxs)("div",{className:"otherPlayers",children:[Object(a.jsx)("div",{children:n[0].participantIdentities.slice(0,5).map((function(e,r){return Object(a.jsx)("div",{className:"playerList",children:Object(a.jsxs)(q.b,{to:"/eune/"+e.player.summonerName.toLowerCase(),children:[Object(a.jsx)("img",{title:t[n[0].participants[r].championId],src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/champion/"+t[n[0].participants[r].championId]+".png",alt:"Champion"}),e.player.summonerName]})},r)}))}),Object(a.jsx)("div",{children:n[0].participantIdentities.slice(5,10).map((function(e,r){return Object(a.jsx)("div",{className:"playerList",children:Object(a.jsxs)(q.b,{to:"/eune/"+e.player.summonerName.toLowerCase(),children:[Object(a.jsx)("img",{title:t[n[0].participants[r+5].championId],src:"http://ddragon.leagueoflegends.com/cdn/"+s+"/img/champion/"+t[n[0].participants[r+5].championId]+".png",alt:"Champion"}),e.player.summonerName]})},r)}))})]})]},r)})),Object(a.jsx)("div",{children:this.state.loadMore?Object(a.jsx)(V.a,{onClick:function(){e.setState({isDisabled:!0},(function(){e.fetchInfoAboutGame()}))},disabled:this.state.isDisabled,id:"showMoreHistoryButton",type:"submit",variant:"outlined",color:"primary",children:this.state.isDisabled?Object(a.jsx)("div",{align:"center",children:Object(a.jsx)(me.a,{})}):"Show more"}):Object(a.jsx)(V.a,{id:"showMoreHistoryButton",disabled:!0,type:"submit",variant:"outlined",color:"primary",children:"No more games to display"})})]})]})}}]),s}(r.a.Component)),Ae=function(e){var t=e.status,s=e.errorMessage;return!1===t?Object(a.jsx)("div",{align:"center",children:Object(a.jsx)(me.a,{})}):404===t?Object(a.jsxs)("div",{children:["User not found... ",s]}):Object(a.jsxs)("div",{children:["Ups something went wrong... ",s]})},_e=Object(z.a)(Object(o.b)((function(e){return{last100games:e.summonerInfoState.last100games,championsIDs:e.someDataGame.championsIDs,queuesIDsDictionary:e.someDataGame.queuesIDsDictionary,spellsDictionary:e.someDataGame.spellsDictionary,acutalPatch:e.someDataGame.acutalPatch}})))(Ce),Ee=Object(o.b)((function(e){return{flexRank:e.summonerInfoState.flexRank,soloRank:e.summonerInfoState.soloRank}}))((function(e){return Object(a.jsxs)(r.a.Fragment,{children:[e.soloRank?Object(a.jsxs)("div",{className:"rankSummoner",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"/assets/images/rank-icons/"+e.soloRank.tier+".png",alt:e.soloRank.tier})}),Object(a.jsxs)("div",{className:"soloQandFlexStats",children:[Object(a.jsx)("span",{children:"SoloQ rank"}),Object(a.jsxs)("span",{children:[e.soloRank.tier," ",e.soloRank.rank]}),Object(a.jsxs)("span",{children:[e.soloRank.leaguePoints," lp"]}),Object(a.jsxs)("span",{children:[e.soloRank.wins,"W / ",e.soloRank.losses,"L"]}),Object(a.jsxs)("span",{children:["Win ratio ",Object(a.jsxs)("b",{children:[Math.round(e.soloRank.wins/(e.soloRank.losses+e.soloRank.wins)*100),"%"]})]})]})]}):Object(a.jsxs)("div",{className:"unranked",children:[Object(a.jsx)("span",{children:"SoloQ"}),Object(a.jsx)("img",{src:"/assets/images/rank-icons/provisional.png",alt:"provisional"}),Object(a.jsx)("b",{children:"Unranked"})]}),e.flexRank?Object(a.jsxs)("div",{className:"rankSummoner",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"/assets/images/rank-icons/"+e.flexRank.tier+".png",alt:e.flexRank.tier})}),Object(a.jsxs)("div",{className:"soloQandFlexStats",children:[Object(a.jsx)("span",{children:"Flex 5 vs 5 rank"}),Object(a.jsxs)("span",{children:[e.flexRank.tier," ",e.flexRank.rank]}),Object(a.jsxs)("span",{children:[e.flexRank.leaguePoints," LP"]}),Object(a.jsxs)("span",{children:[e.flexRank.wins,"W / ",e.flexRank.losses,"L"]}),Object(a.jsxs)("span",{children:["Win ratio ",Object(a.jsxs)("b",{children:[Math.round(e.flexRank.wins/(e.flexRank.losses+e.flexRank.wins)*100),"%"]})]})]})]}):Object(a.jsxs)("div",{className:"unranked",children:[Object(a.jsx)("span",{children:"Flex"}),Object(a.jsx)("img",{src:"/assets/images/rank-icons/provisional.png",alt:"provisional"}),Object(a.jsx)("b",{children:"Unranked"})]})]})})),Re=function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).state={SummonerName:a.props.match.params.SummonerName.toLowerCase(),isLodaing:!0,status:!1,errorMessage:"",isFetchError:!1,lastUpdate:""},a._isMounted=!1,a}return Object(U.a)(s,[{key:"componentDidMount",value:function(){var e=Object(ye.a)(Se.a.mark((function e(){var t,s,a,n,r,i;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,e.next=3,fetch("https://ddragon.leagueoflegends.com/api/versions.json");case 3:if(t=e.sent,this._isMounted){e.next=6;break}return e.abrupt("return");case 6:if(200===t.status){e.next=9;break}return this.setState({status:t.status,errorMessage:t.statusText}),e.abrupt("return");case 9:return e.next=11,t.json();case 11:if(s=e.sent,this.props.setActualPatch(s[0]),this.props.setBasicInfoSummoner(),this.props.setSoloRank(),this.props.setFlexRank(),this.props.setChampionsPlayedFlex(),this.props.setChampionsPlayedSolo(),this.props.setChampionsPlayedAram(),this.props.setLast100games(),this.props.setChampionsIDs(),this.props.addNewSummoner(this.state.SummonerName),a=JSON.parse(localStorage.getItem(this.state.SummonerName)),null!==(n=JSON.parse(localStorage.getItem("queuesIDsDictionary")))){e.next=29;break}return e.next=27,this.fetchQueuesIDs();case 27:e.next=30;break;case 29:this.props.setQueuesIDsDictionary(n);case 30:if(null!==a){e.next=33;break}e.next=47;break;case 33:if(8!==a.length){e.next=47;break}return this.props.setBasicInfoSummoner(a[0]),r=a[1][0],i=a[1][1],"RANKED_SOLO_5x5"===r.queueType?this.props.setSoloRank(r):"RANKED_FLEX_SR"===r.queueType&&this.props.setFlexRank(r),"RANKED_SOLO_5x5"===i.queueType?this.props.setSoloRank(i):"RANKED_FLEX_SR"===i.queueType&&this.props.setFlexRank(i),this.props.setChampionsPlayedFlex(a[2]),this.props.setChampionsPlayedSolo(a[3]),this.props.setChampionsPlayedAram(a[4]),this.props.setLast100games(a[5]),null===a[5]&&this.props.setLast100games([]),this.props.setChampionsIDs(a[6]),this.setState({lastUpdate:a[7],isLodaing:!1}),e.abrupt("return");case 47:this.fetchSummDataOnMount();case 48:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"fetchQueuesIDs",value:function(){var e=Object(ye.a)(Se.a.mark((function e(){var t,s;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://static.developer.riotgames.com/docs/lol/queues.json",e.next=3,fetch("http://static.developer.riotgames.com/docs/lol/queues.json");case 3:if(t=e.sent,this._isMounted){e.next=6;break}return e.abrupt("return");case 6:if(200===t.status){e.next=9;break}return this.setState({status:t.status,errorMessage:t.statusText}),e.abrupt("return");case 9:return s={},e.next=12,t.json();case 12:e.sent.forEach((function(e){s[e.queueId]=e.description}));try{localStorage.setItem("queuesIDsDictionary",JSON.stringify(s))}catch(a){localStorage.clear()}this.props.setQueuesIDsDictionary(s);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchSummDataOnMount",value:function(){var e=Object(ye.a)(Se.a.mark((function e(){var t,s,a,n,r,i,c,o,l,u,m,d,h,p,j,b,O,f,x,g,v,S,y,k,I;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.SummonerName.toLowerCase(),s="&api_key=RGAPI-492fac5d-ee87-45bc-8b3c-deeba004a33d",a="eun1",n="",r=this.props.acutalPatch,this.fetchQueuesIDs(),e.next=8,fetch("http://localhost:8000/api/summoner?region="+a+"&SummonerName="+t);case 8:if(i=e.sent,this._isMounted){e.next=11;break}return e.abrupt("return");case 11:if(200===i.status){e.next=14;break}return this.setState({status:i.status,errorMessage:i.statusText}),e.abrupt("return");case 14:return e.next=16,i.json();case 16:return c=e.sent,this.props.setBasicInfoSummoner(c),o=c.id,e.next=21,fetch("http://localhost:8000/api/summonerID?region="+a+"&SummonerID="+o);case 21:if(l=e.sent,this._isMounted){e.next=24;break}return e.abrupt("return");case 24:if(200===l.status){e.next=27;break}return this.setState({status:l.status,errorMessage:i.statusText}),e.abrupt("return");case 27:return e.next=29,l.json();case 29:return void 0===(u=e.sent)[0]?u[0]=!1:"RANKED_SOLO_5x5"===u[0].queueType?this.props.setSoloRank(u[0]):this.props.setFlexRank(u[0]),void 0===u[1]?u[1]=!1:"RANKED_SOLO_5x5"===u[1].queueType?this.props.setSoloRank(u[1]):this.props.setFlexRank(u[1]),e.next=34,fetch("http://ddragon.leagueoflegends.com/cdn/"+r+"/data/en_US/champion.json");case 34:if(200===(m=e.sent).status){e.next=38;break}return this.setState({status:m.status,errorMessage:m.statusText}),e.abrupt("return");case 38:return e.next=40,m.json();case 40:for(d=e.sent,h=[],p=0,j=Object.entries(d.data);p<j.length;p++)b=Object(ge.a)(j[p],2),O=b[0],f=b[1],h[f.key]=O;return this.props.setChampionsIDs(h),e.next=46,fetch("http://localhost:8000/api/last100games?region="+a+"&accountId="+c.accountId);case 46:if(404!==(x=e.sent).status){e.next=50;break}e.next=54;break;case 50:if(200===x.status){e.next=54;break}if(this._isMounted){e.next=53;break}return e.abrupt("return");case 53:this.setState({status:x.status,errorMessage:x.statusText,isFetchError:!0});case 54:return e.next=56,x.json();case 56:return void 0===(g=e.sent).matches?this.props.setLast100games([]):this.props.setLast100games(g.matches),v=[],S=[],y=[],e.next=63,this.fetchListGame(a,c,s,n,440);case 63:return v=e.sent,e.next=66,this.fetchListGame(a,c,s,n,420);case 66:return S=e.sent,e.next=69,this.fetchListGame(a,c,s,n,450);case 69:if(y=e.sent,!this.state.isFetchError){e.next=72;break}return e.abrupt("return");case 72:null===v&&(v=[]),null===S&&(v=[]),null===y&&(v=[]),this.props.setChampionsPlayedFlex(v),this.props.setChampionsPlayedSolo(S),this.props.setChampionsPlayedAram(y),k=Date.now(),(I=[]).push(c),I.push(u),I.push(v),I.push(S),I.push(y),I.push(g.matches),I.push(h),I.push(k);try{localStorage.setItem(t,JSON.stringify(I))}catch(N){localStorage.clear()}this.setState({lastUpdate:k,isLodaing:!1});case 90:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchListGame",value:function(){var e=Object(ye.a)(Se.a.mark((function e(t,s,a,n,r){var i,c,o,l,u,m,d,h,p,j;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,c=100,o=0,l=[];case 4:return e.next=6,fetch("http://localhost:8000/api/matchlists?region="+t+"&accountId="+s.accountId+"&gameID="+r+"&endIndex="+c+"&beginIndex="+i);case 6:if(404!==(u=e.sent).status){e.next=11;break}return e.abrupt("return",[]);case 11:if(200===u.status){e.next=16;break}if(this._isMounted){e.next=14;break}return e.abrupt("return");case 14:return this.setState({status:u.status,errorMessage:u.statusText,isFetchError:!0}),e.abrupt("return",[]);case 16:return e.next=18,u.json();case 18:m=e.sent,o=m.totalGames,l.push.apply(l,Object(y.a)(m.matches)),i+=100,c+=100;case 23:if(l.length!==o){e.next=4;break}case 24:return d={},h=[],l.forEach((function(e,t){h.push(e.champion)})),h.forEach((function(e){d[e]=(d[e]||0)+1})),p=Object.entries(d),j=p.sort((function(e,t){return t[1]-e[1]})),e.abrupt("return",j);case 31:case"end":return e.stop()}}),e,this)})));return function(t,s,a,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{children:this.state.isLodaing?Object(a.jsx)(Pe,{status:this.state.status,errorMessage:this.state.errorMessage}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{id:"topBannerBasicInfo",children:[Object(a.jsxs)("div",{id:"summIcon",children:[Object(a.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/"+this.props.acutalPatch+"/img/profileicon/"+this.props.basicInfoSummoner.profileIconId+".png",alt:"Summoner icon"}),Object(a.jsx)("div",{children:this.props.basicInfoSummoner.summonerLevel})]}),Object(a.jsxs)("div",{id:"summNick",children:[Object(a.jsx)("div",{children:this.props.basicInfoSummoner.name}),Object(a.jsx)("div",{children:Object(a.jsx)(V.a,{id:"update",type:"submit",variant:"outlined",color:"primary",onClick:function(){e.setState({isLodaing:!0}),e.fetchSummDataOnMount()},children:"Update"})}),Object(a.jsx)("div",{className:"lastUpdate",children:Object(a.jsx)(Me,{lastUpdate:this.state.lastUpdate})})]})]}),Object(a.jsxs)("div",{id:"allOderInfo",children:[Object(a.jsxs)("div",{id:"leftContainer",children:[Object(a.jsx)("div",{children:Object(a.jsx)(Ee,{})}),Object(a.jsx)("div",{id:"championsStats",children:Object(a.jsx)(De,{})})]}),Object(a.jsx)("div",{children:Object(a.jsx)(_e,{})})]})]})})}}]),s}(r.a.Component),Me=function(e){var t,s=e.lastUpdate,n=Date.now(),r=Math.round((n-s)/6e4),i=r;return 0===r?(i="",t="a few seconds ago"):r<=60?t="minutes ago":r/60<=24?(i=Math.round(r/60),t="hours ago"):(i=Math.round(r/60/24),t="days ago"),Object(a.jsxs)("div",{children:["Last update: ",Object(a.jsxs)("span",{children:[i," ",t]})]})},Pe=function(e){var t=e.status,s=e.errorMessage;return!1===t?Object(a.jsx)("div",{align:"center",children:Object(a.jsx)(me.a,{})}):404===t?Object(a.jsxs)("div",{children:["User not found... ",s]}):Object(a.jsxs)("div",{children:["Ups something went wrong... ",s]})},Le=Object(z.a)(Object(o.b)((function(e){return{basicInfoSummoner:e.summonerInfoState.basicInfoSummoner,flexRank:e.summonerInfoState.flexRank,soloRank:e.summonerInfoState.soloRank,championsPlayedFlex:e.summonerInfoState.championsPlayedFlex,championsPlayedSolo:e.summonerInfoState.championsPlayedSolo,championsPlayedAram:e.summonerInfoState.championsPlayedAram,queuesIDsDictionary:e.someDataGame.queuesIDsDictionary,acutalPatch:e.someDataGame.acutalPatch}}),(function(e){return{setBasicInfoSummoner:function(t){return e({type:"BASIC_INFO_SUMMOONER_SET",jsonSummonerByName:t})},setFlexRank:function(t){return e({type:"FLEX_RANK_SET",flexRank:t})},setSoloRank:function(t){return e({type:"SOLO_RANK_SET",soloRank:t})},setChampionsPlayedFlex:function(t){return e({type:"PLAYED_FLEX_SET",championsPlayedFlex:t})},setChampionsPlayedSolo:function(t){return e({type:"PLAYED_SOLO_SET",championsPlayedSolo:t})},setChampionsPlayedAram:function(t){return e({type:"PLAYED_ARAM_SET",championsPlayedAram:t})},addNewSummoner:function(t){return e({type:"ADD_SUMMONER_SET",newSummoner:t})},setQueuesIDsDictionary:function(t){return e({type:"GAMES_IDs_SET",queuesIDsDictionary:t})},setChampionsIDs:function(t){return e({type:"CHAMPIONS_IDs_SET",championsIDs:t})},setLast100games:function(t){return e({type:"LAST_100_GAMES_SET",last100games:t})},setQueueIDs:function(t){return e({type:"QUEUE_ID_SET",queueIds:t})},setActualPatch:function(t){return e({type:"ACTUAL_PATCH_SET",acutalPatch:t})}}})))(Re);var Te=function(e){var t=e.match;return Object(a.jsx)("div",{children:Object(a.jsx)(Le,{match:t})})},Ue=(s(100),function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).deleteSummoner=function(e){a.props.firebase.usersSummonersRef(a.props.firebase.currentUser()).child(e).remove().catch((function(e){alert(e)})),console.log(a.state.arrayOfSummoners)},a.state={setClass:["selectedSummoner","summoner"],loading:!0,arrayOfSummoners:[]},a}return Object(U.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.usersSummonersRef(this.props.firebase.currentUser()).on("value",(function(t){var s=t.val();if(!s)return e.setState({loading:!1});var a=[];Object.keys(s).map((function(e){return a.push(e)})),e.props.setFavoriteSummoners(a),a.includes(e.props.summoners[0])&&e.props.deleteSummoner(e.props.summoners[0]),e.setState({isLodaing:!1})}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"chooseSummoner",children:[Object(a.jsx)("div",{children:"Favorite:"}),this.state.isLodaing?Object(a.jsx)("div",{align:"center",children:Object(a.jsx)(me.a,{})}):this.props.favoriteSummoners.map((function(t,s){return"0"===t?[]:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(q.c,{activeClassName:"selectedSummoner",className:"summoner",to:"/eune/"+t,style:{textDecoration:"none"},children:Object(a.jsx)("div",{className:e.state.setClass[1],children:Object(a.jsx)(V.a,{type:"submit",variant:"outlined",color:"primary",children:t})})}),Object(a.jsx)("img",{className:"plusIcon",src:"/assets/images/delete_plus/delete.svg",alt:"Summoner icon",onClick:function(){e.deleteSummoner(t)}})]},s)}))]})}}]),s}(n.Component)),Fe=Object(z.a)(K,Object(o.b)((function(e){return{summoners:e.summoners.summoners,favoriteSummoners:e.summoners.favoriteSummoners}}),(function(e){return{deleteSummoner:function(t){return e({type:"DELETE_SUMMONER_SET",newSummoner:t})},setFavoriteSummoners:function(t){return e({type:"UPDATE_FAVORITE_SUMMONETS",favoriteSummoners:t})}}})))(Ue),Ge=function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(e){var a;return Object(T.a)(this,s),(a=t.call(this,e)).addSummoner=function(e){console.log(a.props.summoners[0]),a.props.deleteSummoner(e),console.log(a.props),a.props.firebase.usersSummonersRef(a.props.firebase.currentUser()).update(Object(H.a)({},e,e))},a.state={setClass:["selectedSummoner","summoner"]},a}return Object(U.a)(s,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"chooseSummoner",children:[Object(a.jsx)("div",{children:"History:"}),Array.isArray(this.props.summoners)&&this.props.summoners.length?this.props.summoners.map((function(t,s){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(q.c,{activeClassName:"selectedSummoner",className:"summoner",to:"/eune/"+t,style:{textDecoration:"none"},children:Object(a.jsx)("div",{className:e.state.setClass[1],children:Object(a.jsx)(V.a,{type:"submit",variant:"outlined",color:"primary",children:t})})}),e.props.authUser?!e.props.favoriteSummoners.includes(t)&&Object(a.jsx)("img",{className:"plusIcon",src:"/assets/images/delete_plus/add.svg",alt:"Summoner icon",onClick:function(){e.addSummoner(t)}}):Object(a.jsx)(q.b,{title:"Add to farvorite",className:"linkToLoginPage",to:"/login",children:Object(a.jsx)("img",{src:"/assets/images/delete_plus/add.svg",alt:"Summoner icon"})})]},s)})):Object(a.jsx)("div",{}),Object(a.jsx)(q.c,{className:"newSummoner",to:"/",style:{textDecoration:"none"},children:Object(a.jsx)("div",{className:this.state.setClass[1],children:Object(a.jsx)(V.a,{type:"submit",variant:"outlined",color:"primary",children:"New summoner"})})}),Object(a.jsx)("div",{className:"bottomLine"})]})}}]),s}(n.Component),qe=Object(z.a)(K,Object(o.b)((function(e){return{summoners:e.summoners.summoners,favoriteSummoners:e.summoners.favoriteSummoners,authUser:e.sessionState.authUser}}),(function(e){return{deleteSummoner:function(t){return e({type:"DELETE_SUMMONER_SET",newSummoner:t})}}})))(Ge),Be=Object(z.a)(B.g,Object(o.b)((function(e){return{authUser:e.sessionState.authUser}})))((function(e){var t=e.authUser;return Object(a.jsxs)(r.a.Fragment,{children:[t?Object(a.jsx)(Fe,{}):Object(a.jsx)("div",{}),Object(a.jsx)(qe,{})]})})),He=(s(190),s.p+"static/media/walentynka.2f3cd603.png"),We=function(){return Object(a.jsx)("div",{id:"walentynka",children:Object(a.jsx)("img",{src:He})})},Ke=function(e){Object(F.a)(s,e);var t=Object(G.a)(s);function s(){return Object(T.a)(this,s),t.apply(this,arguments)}return Object(U.a)(s,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return Object(a.jsx)(r.a.Fragment,{})}}]),s}(r.a.Component),Qe=Object(B.g)(Ke),Je=ue((function(){return Object(a.jsxs)(q.a,{children:[Object(a.jsx)(pe,{}),Object(a.jsx)(Be,{}),Object(a.jsx)(Qe,{}),Object(a.jsxs)(B.d,{children:[Object(a.jsx)(B.b,{exact:!0,strict:!0,path:"/",component:xe}),Object(a.jsx)(B.b,{exact:!0,strict:!0,path:"/login",component:de}),Object(a.jsx)(B.b,{exact:!0,strict:!0,path:"/WalentynkaDlaDominiki",component:We}),Object(a.jsx)(B.b,{exact:!0,strict:!0,path:"/eune/:SummonerName",component:function(e){return Object(n.createElement)(Te,Object(u.a)(Object(u.a)({},e),{},{key:window.location.pathname}))}}),Object(a.jsx)(B.a,{to:"/"})]}),Object(a.jsx)(je,{})]})}));c.a.render(Object(a.jsx)(o.a,{store:L,children:Object(a.jsx)(Q.Provider,{value:new X,children:Object(a.jsx)(Je,{})})}),document.getElementById("root"))},78:function(e,t,s){}},[[191,1,2]]]);
//# sourceMappingURL=main.29531158.chunk.js.map